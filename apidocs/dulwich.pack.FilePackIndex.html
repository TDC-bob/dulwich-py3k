<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>dulwich.pack.FilePackIndex : API documentation</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">d.p.FilePackIndex(<a href="dulwich.pack.PackIndex.html">PackIndex</a>) : class documentation</h1>
    <p>
      <span id="part">Part of <a href="dulwich.html">dulwich</a>.<a href="dulwich.pack.html">pack</a></span>
      
      <a href="classIndex.html#dulwich.pack.FilePackIndex">View In Hierarchy</a>
    </p>
    <div>
      <p>Known subclasses: <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></p>
    </div>
    <pre>Pack index that is based on a file.

To do the loop it opens the file, and indexes first 256 4 byte groups
with the first byte of the sha id. The value in the four byte group indexed
is the end of the group that shares the same starting byte. Subtract one
from the starting byte and index again to find the start of the group.
The values are sorted by sha id within the group, so do the math to find
the start and end offset and then bisect in to find if the value is present.</pre>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id321">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#__init__">__init__</a></td>
    <td><tt>Create a pack index object.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#__eq__">__eq__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#close">close</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#__len__">__len__</a></td>
    <td><tt>Return the number of entries in this pack index.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#iterentries">iterentries</a></td>
    <td><tt>Iterate over the entries in this pack index.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#check">check</a></td>
    <td><tt>Check that the stored checksum matches the actual checksum.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#calculate_checksum">calculate_checksum</a></td>
    <td><tt>Calculate the SHA1 checksum over this pack index.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#get_pack_checksum">get_pack_checksum</a></td>
    <td><tt>Return the SHA1 checksum stored for the corresponding packfile.</tt></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#get_stored_checksum">get_stored_checksum</a></td>
    <td><tt>Return the SHA1 checksum stored for this index.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_unpack_entry">_unpack_entry</a></td>
    <td><tt>Unpack the i-th entry in the index file.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_unpack_name">_unpack_name</a></td>
    <td><tt>Unpack the i-th name from the index file.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_unpack_offset">_unpack_offset</a></td>
    <td><tt>Unpack the i-th object offset from the index file.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_unpack_crc32_checksum">_unpack_crc32_checksum</a></td>
    <td><tt>Unpack the crc32 checksum for the i-th object from the index file.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_itersha">_itersha</a></td>
    <td><tt>Yield all the SHA1's of the objects in the index, sorted.</tt></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_read_fan_out_table">_read_fan_out_table</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.FilePackIndex.html#_object_index">_object_index</a></td>
    <td><tt>See object_index.</tt></td>
  </tr>
  
</table>
      
        <p>
          Inherited from <a href="dulwich.pack.PackIndex.html">PackIndex</a>:
        </p>
        <table class="children sortable" id="id322">
  
  
<tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.PackIndex.html#__ne__">__ne__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.PackIndex.html#__iter__">__iter__</a></td>
    <td><tt>Iterate over the SHAs in this pack.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.PackIndex.html#object_index">object_index</a></td>
    <td><tt>Return the index in to the corresponding packfile for the object.</tt></td>
  </tr><tr class="basemethod">
    
    
    <td>Method</td>
    <td><a href="dulwich.pack.PackIndex.html#objects_sha1">objects_sha1</a></td>
    <td><tt>Return the hex SHA1 over all the shas of all objects in this pack.</tt></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="dulwich.pack.FilePackIndex.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, filename, file=None, contents=None, size=None):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></div>
    <pre>Create a pack index object.

Provide it with the name of the index file to consider, and it will map
it whenever required.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.__eq__">
    
  </a>
  <a name="__eq__">
    
  </a>
  <div class="functionHeader">
    
    def
    __eq__(self, other):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#__eq__">dulwich.pack.PackIndex.__eq__</a></div>
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.close">
    
  </a>
  <a name="close">
    
  </a>
  <div class="functionHeader">
    
    def
    close(self):
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.__len__">
    
  </a>
  <a name="__len__">
    
  </a>
  <div class="functionHeader">
    
    def
    __len__(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#__len__">dulwich.pack.PackIndex.__len__</a></div>
    <pre>Return the number of entries in this pack index.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._unpack_entry">
    
  </a>
  <a name="_unpack_entry">
    
  </a>
  <div class="functionHeader">
    
    def
    _unpack_entry(self, i):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></div>
    <pre>Unpack the i-th entry in the index file.

:return: Tuple with object name (SHA), offset in pack file and CRC32
    checksum (if known).</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._unpack_name">
    
  </a>
  <a name="_unpack_name">
    
  </a>
  <div class="functionHeader">
    
    def
    _unpack_name(self, i):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></div>
    <pre>Unpack the i-th name from the index file.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._unpack_offset">
    
  </a>
  <a name="_unpack_offset">
    
  </a>
  <div class="functionHeader">
    
    def
    _unpack_offset(self, i):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></div>
    <pre>Unpack the i-th object offset from the index file.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._unpack_crc32_checksum">
    
  </a>
  <a name="_unpack_crc32_checksum">
    
  </a>
  <div class="functionHeader">
    
    def
    _unpack_crc32_checksum(self, i):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <a href="dulwich.pack.PackIndex1.html">dulwich.pack.PackIndex1</a>, <a href="dulwich.pack.PackIndex2.html">dulwich.pack.PackIndex2</a></div>
    <pre>Unpack the crc32 checksum for the i-th object from the index file.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._itersha">
    
  </a>
  <a name="_itersha">
    
  </a>
  <div class="functionHeader">
    
    def
    _itersha(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#_itersha">dulwich.pack.PackIndex._itersha</a></div>
    <pre>Yield all the SHA1's of the objects in the index, sorted.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.iterentries">
    
  </a>
  <a name="iterentries">
    
  </a>
  <div class="functionHeader">
    
    def
    iterentries(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#iterentries">dulwich.pack.PackIndex.iterentries</a></div>
    <pre>Iterate over the entries in this pack index.

:return: iterator over tuples with object name, offset in packfile and
    crc32 checksum.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._read_fan_out_table">
    
  </a>
  <a name="_read_fan_out_table">
    
  </a>
  <div class="functionHeader">
    
    def
    _read_fan_out_table(self, start_offset):
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.check">
    
  </a>
  <a name="check">
    
  </a>
  <div class="functionHeader">
    
    def
    check(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Check that the stored checksum matches the actual checksum.</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.calculate_checksum">
    
  </a>
  <a name="calculate_checksum">
    
  </a>
  <div class="functionHeader">
    
    def
    calculate_checksum(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Calculate the SHA1 checksum over this pack index.

:return: This is a 20-byte binary digest</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.get_pack_checksum">
    
  </a>
  <a name="get_pack_checksum">
    
  </a>
  <div class="functionHeader">
    
    def
    get_pack_checksum(self):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#get_pack_checksum">dulwich.pack.PackIndex.get_pack_checksum</a></div>
    <pre>Return the SHA1 checksum stored for the corresponding packfile.

:return: 20-byte binary digest</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex.get_stored_checksum">
    
  </a>
  <a name="get_stored_checksum">
    
  </a>
  <div class="functionHeader">
    
    def
    get_stored_checksum(self):
    
  </div>
  <div class="functionBody">
    
    <pre>Return the SHA1 checksum stored for this index.

:return: 20-byte binary digest</pre>
  </div>
</div><div class="function">
  <a name="dulwich.pack.FilePackIndex._object_index">
    
  </a>
  <a name="_object_index">
    
  </a>
  <div class="functionHeader">
    
    def
    _object_index(self, sha):
    
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overrides <a href="dulwich.pack.PackIndex.html#_object_index">dulwich.pack.PackIndex._object_index</a></div>
    <pre>See object_index.

:param sha: A *binary* SHA string. (20 characters long)_</pre>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for <a href="http://samba.org/~jelmer/dulwich/">Dulwich</a>, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2011-11-25 13:37:30.
    </address>
  </body>
</html>